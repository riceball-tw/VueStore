import{q as u,x as _,m as x,o,c as r,a as p,b as e,u as v,f as g,F as w,g as y,w as k,e as i,t as d,h as $,A as N,r as C}from"./index.6237c208.js";import{_ as q}from"./ShopCheckoutStep.581b781b.js";const V={class:"container mx-auto py-16"},D={class:"flex flex-wrap px-4 gap-4 justify-center flex-row-reverse my-8"},S={class:"min-w-[300px]"},A=e("h2",{class:"text-2xl mb-2"},"\u8A02\u55AE\u7D30\u7BC0",-1),B={key:0},L=e("p",{class:"py-8"},"\u8CFC\u7269\u8ECA\u5167\u5C1A\u7121\u5546\u54C1",-1),T={class:"menu"},j=["src","alt"],E={class:"flex flex-col"},F={class:"text font-medium mr-2"},I=e("span",null,"$NTD",-1),W={class:"opacity-40 inline-block"},M=e("span",null,"$NTD",-1),O=N('<h1 class="text-2xl mb-2">\u586B\u5BEB\u8A02\u8CFC\u8CC7\u8A0A</h1><div class="form-control w-full"><label for="email" class="label"><span class="label-text">\u96FB\u5B50\u4FE1\u7BB1</span></label><input id="email" name="email" type="email" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u5B50\u4FE1\u7BB1\u2026\u2026" required></div><div class="form-control w-full"><label for="name" class="label"><span class="label-text">\u59D3\u540D</span></label><input id="name" name="name" type="text" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u59D3\u540D\u2026\u2026" required></div><div class="form-control w-full"><label for="tel" class="label"><span class="label-text">\u96FB\u8A71</span></label><input id="tel" name="tel" type="tel" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u96FB\u8A71\u2026\u2026" required></div><div class="form-control w-full"><label for="address" class="label"><span class="label-text">\u5730\u5740</span></label><input id="address" name="address" type="text" class="input input-bordered w-full" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u5730\u5740\u2026\u2026" required></div><div class="form-control w-full"><label for="message" class="label"><span class="label-text">\u9644\u8A3B</span></label><textarea id="message" name="message" class="textarea input-bordered" placeholder="\u8ACB\u8F38\u5165\u60A8\u7684\u9644\u8A3B\u2026\u2026"></textarea></div>',6),R=["disabled"],H={__name:"ShopCartInfo",setup(U){const c=u("axiosWithAuth"),m=u("$loading"),n=_(),a=x([]);function f(l){c({method:"post",url:"/order",data:{...l}}).then(s=>{if(!s.data.success)throw n.push({name:"products"}),new Error(s.data.message);n.push({path:`checkout/${s.data.orderId}`})})}function h(){const l=m.show();c({method:"get",url:"/cart"}).then(s=>{a.value=s.data.data.carts}).finally(()=>{l.hide()})}return h(),(l,s)=>{const b=C("router-Link");return o(),r("div",V,[p(q,{"current-step":2}),e("div",D,[e("div",S,[A,a.value.length===0?(o(),r("div",B,[L,e("button",{class:"btn btn-outline hover:btn-primary btn-block",onClick:s[0]||(s[0]=t=>v(n).push({name:"products"}))}," \u4F86\u53BB\u901B\u901B ")])):g("",!0),e("ul",T,[(o(!0),r(w,null,y(a.value,t=>(o(),r("li",{key:t.id,class:"flex-row"},[e("img",{width:"150",class:"bg-base-200",src:t.product.imageUrl,alt:t.product.title},null,8,j),p(b,{to:{path:`/product/${t.product.id}`}},{default:k(()=>[e("div",E,[i(d(t.product.title)+" ",1),e("div",null,[e("span",F,[i(d(t.product.price),1),I]),e("del",W,[i(d(t.product.origin_price),1),M])])])]),_:2},1032,["to"])]))),128))])]),e("form",{class:"flex flex-col max-w-lg w-full",onSubmit:s[1]||(s[1]=$(t=>{f({data:{user:{name:t.target.name.value,email:t.target.email.value,tel:t.target.tel.value,address:t.target.address.value},message:t.target.message.value}})},["prevent"]))},[O,e("button",{disabled:a.value.length===0,class:"btn btn-outline mt-8",type:"submit"},"\u78BA\u8A8D\u4ED8\u6B3E\u53BB",8,R)],32)])])}}};export{H as default};
