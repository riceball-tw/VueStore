import{a as P,u as q}from"./productStore.c33608d1.js";import{s as g,m as $,n as F,o,c as i,a as d,b as t,p as m,u as e,F as r,g as p,t as l,w as S,r as z}from"./index.58e29e9e.js";import{_ as B}from"./AppPagination.f2f9ea55.js";import{_ as L}from"./AppHero.d07ff2c1.js";const M={class:"container mx-auto flex flex-col gap-8"},Z={class:"flex flex-col md:flex-row gap-8 mt-8"},V={class:""},H=t("h2",{class:"sr-only"},"\u7522\u54C1\u5206\u985E",-1),I={class:"menu bg-base-100 min-w-[250px] p-2 rounded-box sticky top-0"},N=["onClick"],T={key:0},E=t("h2",{class:"sr-only"},"\u7522\u54C1\u6E05\u55AE",-1),D=["src","alt"],G={class:"card-body"},R={class:"card-title"},j={class:"badge badge-secondary"},A={class:"line-through"},O={class:"font-bold"},U={class:"card-actions justify-end"},J={class:"btn-group [&>.btn]:border-l-0 [&>.btn:first-child]:border-l"},K=["disabled","onClick"],W={key:0},X=t("svg",{title:"Pending... \u7B49\u5F85\u5716\u793A",xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[t("path",{d:"M7 13.5q.625 0 1.062-.438Q8.5 12.625 8.5 12t-.438-1.062Q7.625 10.5 7 10.5t-1.062.438Q5.5 11.375 5.5 12t.438 1.062Q6.375 13.5 7 13.5Zm5 0q.625 0 1.062-.438.438-.437.438-1.062t-.438-1.062Q12.625 10.5 12 10.5t-1.062.438Q10.5 11.375 10.5 12t.438 1.062q.437.438 1.062.438Zm5 0q.625 0 1.062-.438.438-.437.438-1.062t-.438-1.062Q17.625 10.5 17 10.5t-1.062.438Q15.5 11.375 15.5 12t.438 1.062q.437.438 1.062.438ZM12 22q-2.075 0-3.9-.788-1.825-.787-3.175-2.137-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175 1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138 1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175-1.35 1.35-3.175 2.137Q14.075 22 12 22Zm0-2q3.35 0 5.675-2.325Q20 15.35 20 12q0-3.35-2.325-5.675Q15.35 4 12 4 8.65 4 6.325 6.325 4 8.65 4 12q0 3.35 2.325 5.675Q8.65 20 12 20Zm0-8Z"})],-1),Y=[X],tt={key:1},st=["onClick"],et={key:0},ot=t("svg",{title:"Solid Heart \u5BE6\u5FC3\u7684\u611B\u5FC3",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[t("path",{d:"M0 0h24v24H0V0z",fill:"none"}),t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1),it=[ot],lt={key:1},nt=t("svg",{title:"Outlined Heart \u7A7A\u5FC3\u7684\u611B\u5FC3",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[t("path",{d:"M0 0h24v24H0V0z",fill:"none"}),t("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"})],-1),at=[nt],mt={__name:"ShopProducts",setup(ct){const n=P(),_=q(),{categoryFilteredInRangeProducts:v,categories:f,isFetching:b,pagination:w,selectedCategory:a,productIdsBeingLoaded:h}=g(n),{addProductToCart:C}=n,{favoriteProductIDs:k}=g(_),{toggleFavoriteProduct:x,toastFavoriteProduct:y}=_,u=$(null);return n.fetchAllProducts(),F(a,()=>{u.value.scrollIntoView({behavior:"smooth"})}),(dt,c)=>{const Q=z("router-Link");return o(),i(r,null,[d(L,{title:"\u6240\u6709\u7522\u54C1",description:"\u4E00\u4E9B\u95DC\u65BC\u9019\u500B\u5546\u5E97\u7684\u63CF\u8FF0\u7684\u63CF\u8FF0\u53EF\u64B0\u5BEB\u65BC\u6B64"}),t("div",M,[t("div",Z,[t("div",V,[H,t("ul",I,[t("li",null,[t("button",{class:m({active:e(a)==="all"}),onClick:c[0]||(c[0]=s=>a.value="all")},"\u5168\u90E8",2)]),(o(!0),i(r,null,p(e(f),s=>(o(),i("li",{key:s},[t("button",{class:m({active:e(a)===s}),type:"button",onClick:()=>{e(n).$patch({selectedCategory:s,currentPage:1})}},l(s),11,N)]))),128))])]),e(b)?(o(),i("div",T,"\u7522\u54C1\u8CC7\u6599\u6B63\u5728\u52A0\u8F09\u4E2D\u2026\u2026")):(o(),i("div",{key:1,ref_key:"productGalleryElement",ref:u,class:"pb-8 grid w-full grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",style:{"scroll-margin-top":"2rem"}},[E,(o(!0),i(r,null,p(e(v),s=>(o(),i("div",{key:s.id,class:"card bg-base-100 shadow-xl"},[t("figure",null,[t("img",{class:"bg-base-200 w-full",src:s.imageUrl,alt:s.title},null,8,D)]),t("div",G,[d(Q,{to:{path:`/product/${s.id}`}},{default:S(()=>[t("h2",R,l(s.title),1)]),_:2},1032,["to"]),t("div",j,l(s.category),1),t("p",null,l(s.description),1),t("div",null,[t("div",A,"NT$ "+l(s.origin_price),1),t("div",O,"NT$ "+l(s.price),1)]),t("div",U,[t("div",J,[t("button",{class:"btn btn-outline",disabled:e(h).includes(s.id),onClick:rt=>e(C)(s.id)},[e(h).includes(s.id)?(o(),i("div",W,Y)):(o(),i("div",tt,"\u52A0\u5230\u8CFC\u7269\u8ECA"))],8,K),t("button",{class:"btn btn-outline",onClick:()=>{e(x)(s.id),e(y)(s.id,s.title)}},[e(k).includes(s.id)?(o(),i("span",et,it)):(o(),i("span",lt,at))],8,st)])])])]))),128))],512))]),d(B,{pages:e(w),onPaginationChange:c[1]||(c[1]=s=>{e(n).$patch({currentPage:s})})},null,8,["pages"])])],64)}}};export{mt as default};
