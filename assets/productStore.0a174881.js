import{i as r,j as o,k as c}from"./index.6237c208.js";const u=r("favoriteProduct",{state:()=>({favoriteProductIDs:[]}),persist:!0,getters:{},actions:{toggleFavoriteProduct(t){this.$state.favoriteProductIDs.includes(t)?this.$state.favoriteProductIDs=this.$state.favoriteProductIDs.filter(e=>e!==t):this.$state.favoriteProductIDs=[...this.$state.favoriteProductIDs,t]},clearFavoriteProducts(){this.$state.favoriteProductIDs=[]},toastFavoriteProduct(t,e){this.$state.favoriteProductIDs.includes(t)?o().info(`\u5DF2\u5C07 ${e} \u5F9E\u6536\u85CF\u4E2D\u79FB\u9664 `):o().info(`\u5DF2\u5C07 ${e} \u52A0\u5165\u6536\u85CF `)}}}),{axiosWithAuth:a}=c,n=r("product",{state:()=>({isFetching:!1,products:[],productIdsBeingLoaded:[],currentPage:1,productsPerPage:5,selectedCategory:"all"}),getters:{categories(t){return[...new Set(t.products.map(e=>e.category))]},pagination({currentPage:t,productsPerPage:e}){const s=Math.round(this.categoryFilteredProducts.length/e);return{total_pages:s,current_page:t,has_pre:t!==1,has_next:t<s,category:null}},categoryFilteredProducts({products:t,selectedCategory:e}){return e==="all"?t:t.filter(s=>s.category===e)},categoryFilteredInRangeProducts({currentPage:t,productsPerPage:e}){const s=t*e-e,i=t*e;return this.categoryFilteredProducts.slice(s,i)}},actions:{async fetchAllProducts(){this.$state.isFetching=!0;const t=await a({method:"get",url:"products/all"});this.$state.isFetching=!1,this.$state.products=t.data.products},async addProductToCart(t,e=1){this.$state.productIdsBeingLoaded=[...this.$state.productIdsBeingLoaded,t],await a({method:"post",url:"/cart",data:{data:{product_id:t,qty:e}}}),this.$state.productIdsBeingLoaded=this.$state.productIdsBeingLoaded.filter(s=>s!==t)}}});export{n as a,u};
